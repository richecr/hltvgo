# Makefile for gopy pkg generation of python bindings to hltvsdk
# File is generated by gopy (will not be overwritten though)
# gopy pkg -name=hltvsdk -author=Rich Ramalho -email=richelton14@gmail.com -desc=The unofficial HLTV Python API -url=https://github.com/richecr/hltvgo -output=hltv_sdk -vm=python3 github.com/richecr/hltvgo github.com/richecr/hltvgo/lib/api github.com/richecr/hltvgo/lib/operations github.com/richecr/hltvgo/lib/entity

PYTHON=python3
PIP=$(PYTHON) -m pip

all: gen

install: install-pkg install-exe

gen:
	gopy pkg -no-make -name=hltvsdk -author=Rich Ramalho -email=richelton14@gmail.com -desc=The unofficial HLTV Python API -url=https://github.com/richecr/hltvgo -vm=python3 github.com/richecr/hltvgo github.com/richecr/hltvgo/lib/api github.com/richecr/hltvgo/lib/operations github.com/richecr/hltvgo/lib/entity

build:
	$(MAKE) -C hltvsdk build

install-pkg:
	# this does a local install of the package, building the sdist and then directly installing it
	rm -rf dist build */*.egg-info *.egg-info
	$(PYTHON) setup.py sdist
	$(PIP) install dist/*.tar.gz

install-exe:
	# install executable into /usr/local/bin
	cp hltvsdk/pyhltvsdk /usr/local/bin/

